# hex
A web application for playing the game of hex over the internet. Hex is a turn based strategy game with simple rules. It was invented by mathematicians in the 1940s. See https://en.wikipedia.org/wiki/Hex_(board_game).

I am submitting this as my final project for [CS50's Web Programming with Python and Javascript](https://cs50.harvard.edu/web/).

### Usage (how to run the application locally)

1. Make sure you have docker installed. Then build a docker image by running the following command from the directory where `Dockerfile` is located
```bash
docker build -t hex_app .
```
2. Run the docker image using the following command
```bash
docker run -dp 8000:8000 hex_app
```
3. Go to your localhost, usually at http://127.0.0.1:8000/, to interact with the app.

### Requirements

See the Dockerfile for python and django version numbers.

### Design
The backend is implemented in django, the frontend in React using Javascript.

To keep the game state between both players synchronous, we use Javascript to make a GET request to a route /get_update/<game_id> every 500 ms. This is not ideal from a performance perspective but it works well enough with a small number of users. I believe WebSockets are usually used to exchange this kind of game data. However, we wanted to build on the django functionality as taught in CS50. We did not aim for performance and scalability.

For creating a grid of hexagons using HTML and CSS, this tutorial was helpful: https://www.codesmite.com/article/how-to-create-pure-css-hexagonal-grids.

### Files

We describe each file that has been added beyond the ones that are auto generated by django.
* `Dockerfile`: used to build a docker image, as described above
* `README.md`: readme file (you are currently viewing it)
* `static/game/Game.js`: render the game of Hex, handle the game logic and make API calls. The file is used by `templates/game/game.html`.
* `static/game/styles.css`: CSS styles
* `templates/game/index.html`: index page.
* `templates/game/layout.html`: layout that is used by all the other templates
* `templates/game/login.html`: a view where a user can login
* `templates/game/register.html`: a view where a user can register a new user account
* `templates/game/create_game.html`: create a new game where another user can join and play against you
* `templates/game/games.html`: shows a list of games that have not yet started and that the user can join 
* `templates/game/game.html`: the view where the game of Hex is actually played

### Distinctiveness and Complexity

I believe the project satisfies the distinctiveness and complexity requirements for the capstone assignment.

It should be sufficiently distinct because none of the other home work projects was a gaming app. 

I also believe it is more complex than the applications from other homework assignments. In particular:

* We render a two dimensional board game that can be interacted with and is updated in real time.
* We keep track of the game state and keep it in sync between the frontend and the server.
* There is code to check for the win condition in order to decide when a player has won. The check is implemented in js. The winning path is then sent to an API and is verified by the server.
* We implemented the option to use time control. A countdown keeps track of how much time each player has left. When a player runs out of time, they lose.
* We also implemented the "cake rule" where players are not assigned colors at the start of the game. Instead, one player plays the first move and then the other player gets to decide which color they want to continue playing as. Implementing this required transitioning between several "game stages" where the game behaves differently.



